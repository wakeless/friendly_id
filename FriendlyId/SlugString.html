<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta name="Content-Type" content="text/html; charset=utf-8" />
<title>Class: FriendlyId::SlugString</title>
<link rel="stylesheet" href="../css/style.css" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  relpath = '..';
  if (relpath != '') relpath += '/';
</script>
<script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>
<script type="text/javascript" charset="utf-8" src="../js/app.js"></script>

  </head>
  <body>
    <script type="text/javascript" charset="utf-8">
      if (window.top.frames.main) document.body.className = 'frames';
    </script>
    
    <div id="header">
      <div id="menu">
  
    <a href="../_index.html">Index (S)</a> &raquo; 
    <span class='title'><a href="../FriendlyId.html" title="FriendlyId (module)">FriendlyId</a></span>
     &raquo; 
    <span class="title">SlugString</span>
  
  
  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  <a id="class_list_link" href="#">Class List</a>
  <a id="method_list_link" href="#">Method List</a>
  <a id ="file_list_link" href="#">File List</a>
</div>

      <div class="clear"></div>
    </div>
    
    <iframe id="search_frame"></iframe>
    
    <div id="content"><h1>Class: FriendlyId::SlugString
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName">ActiveSupport::Multibyte::Chars</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">ActiveSupport::Multibyte::Chars</li>
          
            <li class="next">FriendlyId::SlugString</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/friendly_id/slug_string.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>
This class provides some string-manipulation methods specific to slugs. Its
Unicode support is provided by ActiveSupport::Multibyte::Chars; this is
needed primarily for Unicode encoding normalization and proper calculation
of string lengths.
</p>
<p>
Note that this class includes many "bang methods" such as <tt><a href="#clean%21-instance_method" title="FriendlyId::SlugString#clean! (method)">SlugString#clean!</a></tt> and
<tt><a href="#normalize%21-instance_method" title="FriendlyId::SlugString#normalize! (method)">SlugString#normalize!</a></tt> that perform actions on the string in-place. Each of these
methods has a corresponding "bangless" method (i.e., <tt>SlugString#clean!</tt>
and <tt>SlugString#clean</tt>) which does not appear in the documentation because
it is generated dynamically.
</p>
<p>
All of the bang methods return an instance of String, while the bangless
versions return an instance of FriendlyId::SlugString, so that calls to
methods specific to this class can be chained:
</p>
<pre class="code">
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='new identifier id'>new</span><span class='lparen token'>(</span><span class='string val'>&quot;hello world&quot;</span><span class='rparen token'>)</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='with_dashes! fid id'>with_dashes!</span> <span class='comment val'># =&gt; &quot;hello-world&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='with_dashes identifier id'>with_dashes</span>  <span class='comment val'># =&gt; &lt;FriendlyId::SlugString:0x000001013e1590 @wrapped_string=&quot;hello-world&quot;&gt;</span>
</pre>


  </div>
</div>
<div class="tags">
  
  <h3>See Also:</h3>
  <ul class="see">
    
      <li><a href="http://www.utf8-chartable.de/unicode-utf8-table.pl?utf8=dec" target="_parent" title="Unicode character table">Unicode character table</a></li>
    
      <li><a href="#dump_approximations-class_method" title="FriendlyId::SlugString.dump_approximations (method)">SlugString.dump_approximations</a></li>
    
  </ul>

</div>
  <h2>Constant Summary</h2>
  
    <dl class="constants">
      
        <dt id="APPROXIMATIONS-constant" class="">APPROXIMATIONS =
          <div class="docstring">
  <div class="discussion">
    <p>
All values are Unicode decimal characters or character arrays.
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span>
  <span class='symbol val'>:common</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span>
    <span class='integer val'>192</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>193</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>194</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>195</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>196</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>198</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='integer val'>199</span><span class='comma token'>,</span> <span class='integer val'>67</span><span class='comma token'>,</span> <span class='integer val'>200</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>201</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>202</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>203</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>204</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>205</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>206</span><span class='comma token'>,</span>
    <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>207</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>208</span><span class='comma token'>,</span> <span class='integer val'>68</span><span class='comma token'>,</span> <span class='integer val'>209</span><span class='comma token'>,</span> <span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>210</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>211</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>212</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>213</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span>
    <span class='integer val'>214</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>215</span><span class='comma token'>,</span> <span class='integer val'>120</span><span class='comma token'>,</span> <span class='integer val'>216</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>217</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>218</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>219</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>220</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>221</span><span class='comma token'>,</span>
    <span class='integer val'>89</span><span class='comma token'>,</span> <span class='integer val'>222</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>84</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>223</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>115</span><span class='comma token'>,</span> <span class='integer val'>115</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>224</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>225</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>227</span><span class='comma token'>,</span>
    <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>228</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>229</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>230</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>231</span><span class='comma token'>,</span> <span class='integer val'>99</span><span class='comma token'>,</span> <span class='integer val'>232</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>233</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span>
    <span class='integer val'>234</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>235</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>236</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>237</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>238</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>239</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>240</span><span class='comma token'>,</span> <span class='integer val'>100</span><span class='comma token'>,</span>
    <span class='integer val'>241</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>242</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>243</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>244</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>245</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>246</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>248</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span>
    <span class='integer val'>249</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>250</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>251</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>252</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>253</span><span class='comma token'>,</span> <span class='integer val'>121</span><span class='comma token'>,</span> <span class='integer val'>254</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>116</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='integer val'>255</span><span class='comma token'>,</span> <span class='integer val'>121</span><span class='comma token'>,</span> <span class='integer val'>256</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>257</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>258</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>259</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>260</span><span class='comma token'>,</span> <span class='integer val'>65</span><span class='comma token'>,</span> <span class='integer val'>261</span><span class='comma token'>,</span> <span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>262</span><span class='comma token'>,</span>
    <span class='integer val'>67</span><span class='comma token'>,</span> <span class='integer val'>263</span><span class='comma token'>,</span> <span class='integer val'>99</span><span class='comma token'>,</span> <span class='integer val'>264</span><span class='comma token'>,</span> <span class='integer val'>67</span><span class='comma token'>,</span> <span class='integer val'>265</span><span class='comma token'>,</span> <span class='integer val'>99</span><span class='comma token'>,</span> <span class='integer val'>266</span><span class='comma token'>,</span> <span class='integer val'>67</span><span class='comma token'>,</span> <span class='integer val'>267</span><span class='comma token'>,</span> <span class='integer val'>99</span><span class='comma token'>,</span> <span class='integer val'>268</span><span class='comma token'>,</span> <span class='integer val'>67</span><span class='comma token'>,</span> <span class='integer val'>269</span><span class='comma token'>,</span> <span class='integer val'>99</span><span class='comma token'>,</span>
    <span class='integer val'>270</span><span class='comma token'>,</span> <span class='integer val'>68</span><span class='comma token'>,</span> <span class='integer val'>271</span><span class='comma token'>,</span> <span class='integer val'>100</span><span class='comma token'>,</span> <span class='integer val'>272</span><span class='comma token'>,</span> <span class='integer val'>68</span><span class='comma token'>,</span> <span class='integer val'>273</span><span class='comma token'>,</span> <span class='integer val'>100</span><span class='comma token'>,</span> <span class='integer val'>274</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>275</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>276</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>277</span><span class='comma token'>,</span>
    <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>278</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>279</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>280</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>281</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>282</span><span class='comma token'>,</span> <span class='integer val'>69</span><span class='comma token'>,</span> <span class='integer val'>283</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='comma token'>,</span> <span class='integer val'>284</span><span class='comma token'>,</span> <span class='integer val'>71</span><span class='comma token'>,</span>
    <span class='integer val'>285</span><span class='comma token'>,</span> <span class='integer val'>103</span><span class='comma token'>,</span> <span class='integer val'>286</span><span class='comma token'>,</span> <span class='integer val'>71</span><span class='comma token'>,</span> <span class='integer val'>287</span><span class='comma token'>,</span> <span class='integer val'>103</span><span class='comma token'>,</span> <span class='integer val'>288</span><span class='comma token'>,</span> <span class='integer val'>71</span><span class='comma token'>,</span> <span class='integer val'>289</span><span class='comma token'>,</span> <span class='integer val'>103</span><span class='comma token'>,</span> <span class='integer val'>290</span><span class='comma token'>,</span> <span class='integer val'>71</span><span class='comma token'>,</span> <span class='integer val'>291</span><span class='comma token'>,</span> <span class='integer val'>103</span><span class='comma token'>,</span>
    <span class='integer val'>292</span><span class='comma token'>,</span> <span class='integer val'>72</span><span class='comma token'>,</span> <span class='integer val'>293</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='comma token'>,</span> <span class='integer val'>294</span><span class='comma token'>,</span> <span class='integer val'>72</span><span class='comma token'>,</span> <span class='integer val'>295</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='comma token'>,</span> <span class='integer val'>296</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>297</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>298</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>299</span><span class='comma token'>,</span>
    <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>300</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>301</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>302</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>303</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>304</span><span class='comma token'>,</span> <span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>305</span><span class='comma token'>,</span> <span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>306</span><span class='comma token'>,</span>
    <span class='lbrack token'>[</span><span class='integer val'>73</span><span class='comma token'>,</span> <span class='integer val'>74</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>307</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>105</span><span class='comma token'>,</span> <span class='integer val'>106</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>308</span><span class='comma token'>,</span> <span class='integer val'>74</span><span class='comma token'>,</span> <span class='integer val'>309</span><span class='comma token'>,</span> <span class='integer val'>106</span><span class='comma token'>,</span> <span class='integer val'>310</span><span class='comma token'>,</span> <span class='integer val'>75</span><span class='comma token'>,</span> <span class='integer val'>311</span><span class='comma token'>,</span> <span class='integer val'>107</span><span class='comma token'>,</span> <span class='integer val'>312</span><span class='comma token'>,</span>
    <span class='integer val'>107</span><span class='comma token'>,</span> <span class='integer val'>313</span><span class='comma token'>,</span> <span class='integer val'>76</span><span class='comma token'>,</span> <span class='integer val'>314</span><span class='comma token'>,</span> <span class='integer val'>108</span><span class='comma token'>,</span> <span class='integer val'>315</span><span class='comma token'>,</span> <span class='integer val'>76</span><span class='comma token'>,</span> <span class='integer val'>316</span><span class='comma token'>,</span> <span class='integer val'>108</span><span class='comma token'>,</span> <span class='integer val'>317</span><span class='comma token'>,</span> <span class='integer val'>76</span><span class='comma token'>,</span> <span class='integer val'>318</span><span class='comma token'>,</span> <span class='integer val'>108</span><span class='comma token'>,</span> <span class='integer val'>319</span><span class='comma token'>,</span> <span class='integer val'>76</span><span class='comma token'>,</span>
    <span class='integer val'>320</span><span class='comma token'>,</span> <span class='integer val'>108</span><span class='comma token'>,</span> <span class='integer val'>321</span><span class='comma token'>,</span> <span class='integer val'>76</span><span class='comma token'>,</span> <span class='integer val'>322</span><span class='comma token'>,</span> <span class='integer val'>108</span><span class='comma token'>,</span> <span class='integer val'>323</span><span class='comma token'>,</span> <span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>324</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>325</span><span class='comma token'>,</span> <span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>326</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='comma token'>,</span>
    <span class='integer val'>327</span><span class='comma token'>,</span> <span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>328</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>329</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>39</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>330</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>71</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>331</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>103</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='integer val'>332</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>333</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>334</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>335</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>336</span><span class='comma token'>,</span> <span class='integer val'>79</span><span class='comma token'>,</span> <span class='integer val'>337</span><span class='comma token'>,</span> <span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>338</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>79</span><span class='comma token'>,</span>
    <span class='integer val'>69</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>339</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>340</span><span class='comma token'>,</span> <span class='integer val'>82</span><span class='comma token'>,</span> <span class='integer val'>341</span><span class='comma token'>,</span> <span class='integer val'>114</span><span class='comma token'>,</span> <span class='integer val'>342</span><span class='comma token'>,</span> <span class='integer val'>82</span><span class='comma token'>,</span> <span class='integer val'>343</span><span class='comma token'>,</span> <span class='integer val'>114</span><span class='comma token'>,</span> <span class='integer val'>344</span><span class='comma token'>,</span> <span class='integer val'>82</span><span class='comma token'>,</span>
    <span class='integer val'>345</span><span class='comma token'>,</span> <span class='integer val'>114</span><span class='comma token'>,</span> <span class='integer val'>346</span><span class='comma token'>,</span> <span class='integer val'>83</span><span class='comma token'>,</span> <span class='integer val'>347</span><span class='comma token'>,</span> <span class='integer val'>115</span><span class='comma token'>,</span> <span class='integer val'>348</span><span class='comma token'>,</span> <span class='integer val'>83</span><span class='comma token'>,</span> <span class='integer val'>349</span><span class='comma token'>,</span> <span class='integer val'>115</span><span class='comma token'>,</span> <span class='integer val'>350</span><span class='comma token'>,</span> <span class='integer val'>83</span><span class='comma token'>,</span> <span class='integer val'>351</span><span class='comma token'>,</span> <span class='integer val'>115</span><span class='comma token'>,</span>
    <span class='integer val'>352</span><span class='comma token'>,</span> <span class='integer val'>83</span><span class='comma token'>,</span> <span class='integer val'>353</span><span class='comma token'>,</span> <span class='integer val'>115</span><span class='comma token'>,</span> <span class='integer val'>354</span><span class='comma token'>,</span> <span class='integer val'>84</span><span class='comma token'>,</span> <span class='integer val'>355</span><span class='comma token'>,</span> <span class='integer val'>116</span><span class='comma token'>,</span> <span class='integer val'>356</span><span class='comma token'>,</span> <span class='integer val'>84</span><span class='comma token'>,</span> <span class='integer val'>357</span><span class='comma token'>,</span> <span class='integer val'>116</span><span class='comma token'>,</span> <span class='integer val'>358</span><span class='comma token'>,</span> <span class='integer val'>84</span><span class='comma token'>,</span> <span class='integer val'>359</span><span class='comma token'>,</span>
    <span class='integer val'>116</span><span class='comma token'>,</span> <span class='integer val'>360</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>361</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>362</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>363</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>364</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>365</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>366</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span>
    <span class='integer val'>367</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>368</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>369</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>370</span><span class='comma token'>,</span> <span class='integer val'>85</span><span class='comma token'>,</span> <span class='integer val'>371</span><span class='comma token'>,</span> <span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>372</span><span class='comma token'>,</span> <span class='integer val'>87</span><span class='comma token'>,</span> <span class='integer val'>373</span><span class='comma token'>,</span> <span class='integer val'>119</span><span class='comma token'>,</span>
    <span class='integer val'>374</span><span class='comma token'>,</span> <span class='integer val'>89</span><span class='comma token'>,</span> <span class='integer val'>375</span><span class='comma token'>,</span> <span class='integer val'>121</span><span class='comma token'>,</span> <span class='integer val'>376</span><span class='comma token'>,</span> <span class='integer val'>89</span><span class='comma token'>,</span> <span class='integer val'>377</span><span class='comma token'>,</span> <span class='integer val'>90</span><span class='comma token'>,</span> <span class='integer val'>378</span><span class='comma token'>,</span> <span class='integer val'>122</span><span class='comma token'>,</span> <span class='integer val'>379</span><span class='comma token'>,</span> <span class='integer val'>90</span><span class='comma token'>,</span> <span class='integer val'>380</span><span class='comma token'>,</span> <span class='integer val'>122</span><span class='comma token'>,</span> <span class='integer val'>381</span><span class='comma token'>,</span>
    <span class='integer val'>90</span><span class='comma token'>,</span> <span class='integer val'>382</span><span class='comma token'>,</span> <span class='integer val'>122</span>
  <span class='rbrack token'>]</span><span class='dot token'>.</span><span class='freeze identifier id'>freeze</span><span class='comma token'>,</span>
  <span class='symbol val'>:german</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='integer val'>252</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>117</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>246</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>111</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>228</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>97</span><span class='comma token'>,</span> <span class='integer val'>101</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='symbol val'>:spanish</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='integer val'>209</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='rbrack token'>]</span><span class='comma token'>,</span> <span class='integer val'>241</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>110</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
<span class='rbrace token'>}</span>
</pre></dd>
      
        <dt id="CP1252-constant" class="">CP1252 =
          <div class="docstring">
  <div class="discussion">
    <p>
CP-1252 decimal byte => UTF-8 approximation as an array of bytes
</p>


  </div>
</div>
<div class="tags">
  
</div>
        </dt>
        <dd><pre class="code"><span class='lbrace token'>{</span>
  <span class='integer val'>128</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>130</span><span class='comma token'>,</span> <span class='integer val'>172</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>129</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='integer val'>130</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>154</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>131</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>198</span><span class='comma token'>,</span> <span class='integer val'>146</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>132</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>158</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>133</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>166</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>134</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>160</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>135</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>161</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>136</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>203</span><span class='comma token'>,</span> <span class='integer val'>134</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>137</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>176</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>138</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>160</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>139</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>185</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>140</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>146</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>141</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='integer val'>142</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>189</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>143</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='integer val'>144</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='integer val'>145</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>152</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>146</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>153</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>147</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>156</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>148</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>157</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>149</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>162</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>150</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>147</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>151</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>148</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>152</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>203</span><span class='comma token'>,</span> <span class='integer val'>156</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>153</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>132</span><span class='comma token'>,</span> <span class='integer val'>162</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>154</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>161</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>155</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>226</span><span class='comma token'>,</span> <span class='integer val'>128</span><span class='comma token'>,</span> <span class='integer val'>186</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>156</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>147</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>157</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='nil nil kw'>nil</span><span class='comma token'>,</span>
  <span class='integer val'>158</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>190</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
  <span class='integer val'>159</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>197</span><span class='comma token'>,</span> <span class='integer val'>184</span><span class='rbrack token'>]</span>
<span class='rbrace token'>}</span>
</pre></dd>
      
    </dl>
  


  

  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dump_approximations-class_method" title="dump_approximations (class method)">+ (Object) <strong>dump_approximations</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
This method can be used by developers wishing to debug the <tt><a href="#APPROXIMATIONS-constant" title="FriendlyId::SlugString::APPROXIMATIONS (constant)">SlugString::APPROXIMATIONS</a></tt>
hashes, which are written in a hard-to-read format.
</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#approximate_ascii%21-instance_method" title="#approximate_ascii! (instance method)">- (Object) <strong>approximate_ascii!</strong>(*args) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Approximate an ASCII string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#clean%21-instance_method" title="#clean! (instance method)">- (Object) <strong>clean!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Removes leading and trailing spaces or dashses, and replaces multiple
whitespace characters with a single space.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#downcase%21-instance_method" title="#downcase! (instance method)">- (Object) <strong>downcase!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Lowercases the string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (SlugString) <strong>initialize</strong>(string) </a>
    

    
  </span>
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
A new instance of SlugString.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#normalize%21-instance_method" title="#normalize! (instance method)">- (Object) <strong>normalize!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Normalize the string for use as a FriendlyId.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#normalize_for%21-instance_method" title="#normalize_for! (instance method)">- (Object) <strong>normalize_for!</strong>(config) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Normalize the string for a given <tt><a href="Configuration.html" title="FriendlyId::Configuration (class)">Configuration</a></tt>.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#tidy_bytes%21-instance_method" title="#tidy_bytes! (instance method)">- (Object) <strong>tidy_bytes!</strong>(force = false) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Attempt to replace invalid UTF-8 bytes with valid ones.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_ascii%21-instance_method" title="#to_ascii! (instance method)">- (Object) <strong>to_ascii!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Delete any non-ascii characters.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#truncate%21-instance_method" title="#truncate! (instance method)">- (Object) <strong>truncate!</strong>(max) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Truncate the string to <tt>max</tt> length.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#upcase%21-instance_method" title="#upcase! (instance method)">- (Object) <strong>upcase!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Upper-cases the string.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#validate_for%21-instance_method" title="#validate_for! (instance method)">- (Object) <strong>validate_for!</strong>(config) </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Validate that the slug string is not blank or reserved, and truncate it to
the max length if necessary.
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#with_dashes%21-instance_method" title="#with_dashes! (instance method)">- (Object) <strong>with_dashes!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Replaces whitespace with dashes ("-").
</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#word_chars%21-instance_method" title="#word_chars! (instance method)">- (Object) <strong>word_chars!</strong> </a>
    

    
  </span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>
Remove any non-word characters.
</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <p class="signature first" id="initialize-instance_method">
  
    - (<tt><a href="" title="FriendlyId::SlugString (class)">SlugString</a></tt>) <strong>initialize</strong>(string) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
A new instance of SlugString
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="../String.html" title="String (class)">String</a></tt>)</span>
      
      
        <span class='name'>string</span>
      
      
      
        &mdash;
        <div class='inline'><p>
The string to use as the basis of the SlugString.
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


147
148
149
150</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 147</span>

<span class='def def kw'>def</span> <span class='initialize identifier id'>initialize</span><span class='lparen token'>(</span><span class='string identifier id'>string</span><span class='rparen token'>)</span>
  <span class='super super kw'>super</span> <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span>
  <span class='tidy_bytes! fid id'>tidy_bytes!</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="dump_approximations-class_method">
  
    + (<tt>Object</tt>) <strong>dump_approximations</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
This method can be used by developers wishing to debug the <tt><a href="#APPROXIMATIONS-constant" title="FriendlyId::SlugString::APPROXIMATIONS (constant)">APPROXIMATIONS</a></tt>
hashes, which are written in a hard-to-read format. {:common => {""=>"A",
""=>"A", ""=>"A", ""=>"A", ""=>"A", ""=>"A", ""=>"AE",
""=>"C", ""=>"E", ""=>"E", ""=>"E", ""=>"E", ""=>"I",
""=>"I", ""=>"I", ""=>"I", ""=>"D", ""=>"N", ""=>"O",
""=>"O", ""=>"O", ""=>"O", ""=>"O", ""=>"x", ""=>"O",
""=>"U", ""=>"U", ""=>"U", ""=>"U", ""=>"Y", ""=>"Th",
""=>"ss", ""=>"a", ""=>"a", ""=>"a", ""=>"a", ""=>"a",
""=>"a", ""=>"ae", ""=>"c", ""=>"e", ""=>"e", ""=>"e",
""=>"e", ""=>"i", ""=>"i", ""=>"i", ""=>"i", ""=>"d",
""=>"n", ""=>"o", ""=>"o", ""=>"o", ""=>"o", ""=>"o",
""=>"o", ""=>"u", ""=>"u", ""=>"u", ""=>"u", ""=>"y",
""=>"th", ""=>"y", ""=>"A", ""=>"a", ""=>"A", ""=>"a",
""=>"A", ""=>"a", ""=>"C", ""=>"c", ""=>"C", ""=>"c",
""=>"C", ""=>"c", ""=>"C", ""=>"c", ""=>"D", ""=>"d",
""=>"D", ""=>"d", ""=>"E", ""=>"e", ""=>"E", ""=>"e",
""=>"E", ""=>"e", ""=>"E", ""=>"e", ""=>"E", ""=>"e",
""=>"G", ""=>"g", ""=>"G", ""=>"g", ""=>"G", ""=>"g",
""=>"G", ""=>"g", ""=>"H", ""=>"h", ""=>"H", ""=>"h",
""=>"I", ""=>"i", ""=>"I", ""=>"i", ""=>"I", ""=>"i",
""=>"I", ""=>"i", ""=>"I", ""=>"i", ""=>"IJ", ""=>"ij",
""=>"J", ""=>"j", ""=>"K", ""=>"k", ""=>"k", ""=>"L",
""=>"l", ""=>"L", ""=>"l", ""=>"L", ""=>"l", ""=>"L",
""=>"l", ""=>"L", ""=>"l", ""=>"N", ""=>"n", ""=>"N",
""=>"n", ""=>"N", ""=>"n", ""=>"&#8217;n", ""=>"NG", ""=>"ng",
""=>"O", ""=>"o", ""=>"O", ""=>"o", ""=>"O", ""=>"o",
""=>"OE", ""=>"oe", ""=>"R", ""=>"r", ""=>"R", ""=>"r",
""=>"R", ""=>"r", ""=>"S", ""=>"s", ""=>"S", ""=>"s",
""=>"S", ""=>"s", ""=>"S", ""=>"s", ""=>"T", ""=>"t",
""=>"T", ""=>"t", ""=>"T", ""=>"t", ""=>"U", ""=>"u",
""=>"U", ""=>"u", ""=>"U", ""=>"u", ""=>"U", ""=>"u",
""=>"U", ""=>"u", ""=>"U", ""=>"u", ""=>"W", ""=>"w",
""=>"Y", ""=>"y", ""=>"Y", ""=>"Z", ""=>"z", ""=>"Z",
""=>"z", ""=>"Z", ""=>"z"}, :german => {""=>"ue", ""=>"oe",
""=>"ae"}, :spanish => <tt>""=>"nn"</tt>}
</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <h3>Examples:</h3>
    
      <h4><div class='inline'></div></h4>
      <pre class="example code">
<span class='gt op'>&gt;</span> <span class='ruby identifier id'>ruby</span> <span class='minus op'>-</span><span class='rrubygems identifier id'>rrubygems</span> <span class='minus op'>-</span><span class='rlib identifier id'>rlib</span><span class='div op'>/</span><span class='friendly_id identifier id'>friendly_id</span> <span class='minus op'>-</span><span class='e identifier id'>e</span> <span class='string val'>'p FriendlyId::SlugString.dump_approximations'</span>
</pre>
    
  </div>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
Hash
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 139</span>

<span class='def def kw'>def</span> <span class='self self kw'>self</span><span class='dot token'>.</span><span class='dump_approximations identifier id'>dump_approximations</span>
  <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='APPROXIMATIONS constant id'>APPROXIMATIONS</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='approx identifier id'>approx</span><span class='bitor op'>|</span>
    <span class='lbrack token'>[</span><span class='name identifier id'>name</span><span class='comma token'>,</span> <span class='Hash constant id'>Hash</span><span class='lbrack token'>[</span><span class='approx identifier id'>approx</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='key identifier id'>key</span><span class='comma token'>,</span> <span class='value identifier id'>value</span><span class='bitor op'>|</span> <span class='lbrack token'>[</span><span class='lbrack token'>[</span><span class='key identifier id'>key</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='comma token'>,</span> <span class='lbrack token'>[</span><span class='value identifier id'>value</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='rbrack token'>]</span><span class='rbrace token'>}</span><span class='rbrack token'>]</span><span class='rbrack token'>]</span>
  <span class='end end kw'>end</span><span class='rbrack token'>]</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>
    
    
      <div class="method_details first">
  <p class="signature first" id="approximate_ascii!-instance_method">
  
    - (<tt>Object</tt>) <strong>approximate_ascii!</strong>(*args) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Approximate an ASCII string. This works only for Western strings using
characters that are Roman-alphabet characters + diacritics. Non-letter
characters are left unmodified.
</p>
<pre class="code">
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='string val'>&quot;d, Poland&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span>                 <span class='comment val'># =&gt; &quot;Lodz, Poland&quot;</span>
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='string val'>&quot;&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span>                 <span class='comment val'># =&gt; &quot;&quot;</span>
</pre>
<p>
You can pass any key(s) from <tt><a href="#APPROXIMATIONS-constant" title="FriendlyId::SlugString::APPROXIMATIONS (constant)">APPROXIMATIONS</a></tt> as arguments. This allows for
contextual approximations. By default; <tt>:spanish</tt> and
<tt>:german</tt> are provided:
</p>
<pre class="code">
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='string val'>&quot;Jrgen Mller&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span>                 <span class='comment val'># =&gt; &quot;Jurgen Muller&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span> <span class='symbol val'>:german</span>        <span class='comment val'># =&gt; &quot;Juergen Mueller&quot;</span>
  <span class='string identifier id'>string</span> <span class='assign token'>=</span> <span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='new identifier id'>new</span> <span class='string val'>&quot;Feliz ao!&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span>                 <span class='comment val'># =&gt; &quot;Feliz ano!&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii identifier id'>approximate_ascii</span> <span class='symbol val'>:spanish</span>       <span class='comment val'># =&gt; &quot;Feliz anno!&quot;</span>
</pre>
<p>
You can modify the built-in approximations, or add your own:
</p>
<pre class="code">
  <span class='comment val'># Make Spanish use &quot;nh&quot; rather than &quot;nn&quot;</span>
  <span class='FriendlyId constant id'>FriendlyId</span><span class='colon2 op'>::</span><span class='SlugString constant id'>SlugString</span><span class='colon2 op'>::</span><span class='APPROXIMATIONS constant id'>APPROXIMATIONS</span><span class='lbrack token'>[</span><span class='symbol val'>:spanish</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='lbrace token'>{</span>
    <span class='comment val'>#  =&gt; &quot;Nh&quot;</span>
    <span class='integer val'>209</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>78</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='rbrack token'>]</span><span class='comma token'>,</span>
    <span class='comment val'>#  =&gt; &quot;nh&quot;</span>
    <span class='integer val'>241</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='lbrack token'>[</span><span class='integer val'>110</span><span class='comma token'>,</span> <span class='integer val'>104</span><span class='rbrack token'>]</span>
  <span class='rbrace token'>}</span>
</pre>
<p>
It&#8217;s also possible to use a custom approximation for all strings:
</p>
<pre class="code">
  <span class='FriendlyId constant id'>FriendlyId</span><span class='colon2 op'>::</span><span class='SlugString constant id'>SlugString</span><span class='dot token'>.</span><span class='approximations identifier id'>approximations</span> <span class='lshft op'>&lt;&lt;</span> <span class='symbol val'>:german</span>
</pre>
<p>
Notice that this method does not simply convert to ASCII; if you want to
remove non-ASCII characters such as "" and "", use <tt><a href="#to_ascii%21-instance_method" title="FriendlyId::SlugString#to_ascii! (method)">#to_ascii!</a></tt>:
</p>
<pre class="code">
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='approximate_ascii! fid id'>approximate_ascii!</span><span class='lparen token'>(</span><span class='symbol val'>:spanish</span><span class='rparen token'>)</span>       <span class='comment val'># =&gt; &quot;Feliz anno!&quot;</span>
  <span class='string identifier id'>string</span><span class='dot token'>.</span><span class='to_ascii! fid id'>to_ascii!</span>                          <span class='comment val'># =&gt; &quot;Feliz anno!&quot;</span>
</pre>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
        <span class='name'>*args</span>
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


193
194
195
196</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 193</span>

<span class='def def kw'>def</span> <span class='approximate_ascii! fid id'>approximate_ascii!</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='@maps ivar id'>@maps</span> <span class='assign token'>=</span> <span class='lparen token'>(</span><span class='self self kw'>self</span><span class='dot token'>.</span><span class='class identifier id'>class</span><span class='dot token'>.</span><span class='approximations identifier id'>approximations</span> <span class='plus op'>+</span> <span class='args identifier id'>args</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span> <span class='plus op'>+</span> <span class='lbrack token'>[</span><span class='symbol val'>:common</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='uniq identifier id'>uniq</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='normalize_utf8 identifier id'>normalize_utf8</span><span class='lparen token'>(</span><span class='symbol val'>:c</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='char identifier id'>char</span><span class='bitor op'>|</span> <span class='approx_char identifier id'>approx_char</span><span class='lparen token'>(</span><span class='char identifier id'>char</span><span class='rparen token'>)</span> <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="clean!-instance_method">
  
    - (<tt>Object</tt>) <strong>clean!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Removes leading and trailing spaces or dashses, and replaces multiple
whitespace characters with a single space.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


201
202
203</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 201</span>

<span class='def def kw'>def</span> <span class='clean! fid id'>clean!</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='@wrapped_string ivar id'>@wrapped_string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\A\-|\-\z/</span><span class='comma token'>,</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/\s+/</span><span class='u identifier id'>u</span><span class='comma token'>,</span> <span class='string val'>&quot; &quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='strip identifier id'>strip</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="downcase!-instance_method">
  
    - (<tt>Object</tt>) <strong>downcase!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Lowercases the string. Note that this works for Unicode strings, though
your milage may vary with Greek and Turkic strings.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 208</span>

<span class='def def kw'>def</span> <span class='downcase! fid id'>downcase!</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='Multibyte constant id'>Multibyte</span><span class='colon2 op'>::</span><span class='Unicode constant id'>Unicode</span><span class='dot token'>.</span><span class='apply_mapping identifier id'>apply_mapping</span><span class='lparen token'>(</span><span class='@wrapped_string ivar id'>@wrapped_string</span><span class='comma token'>,</span> <span class='symbol val'>:lowercase_mapping</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="normalize!-instance_method">
  
    - (<tt>Object</tt>) <strong>normalize!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Normalize the string for use as a FriendlyId. Note that in this context,
<tt>normalize</tt> means, strip, remove non-letters/numbers, downcasing and
converting whitespace to dashes. ActiveSupport::Multibyte::Chars#normalize
is aliased to <tt>normalize_utf8</tt> in this subclass.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


251
252
253
254
255
256</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 251</span>

<span class='def def kw'>def</span> <span class='normalize! fid id'>normalize!</span>
  <span class='clean! fid id'>clean!</span>
  <span class='word_chars! fid id'>word_chars!</span>
  <span class='downcase! fid id'>downcase!</span>
  <span class='with_dashes! fid id'>with_dashes!</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="normalize_for!-instance_method">
  
    - (<tt>Object</tt>) <strong>normalize_for!</strong>(config) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Normalize the string for a given <tt><a href="Configuration.html" title="FriendlyId::Configuration (class)">FriendlyId::Configuration</a></tt>.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="Configuration.html" title="FriendlyId::Configuration (class)">FriendlyId::Configuration</a></tt>)</span>
      
      
        <span class='name'>config</span>
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


237
238
239
240
241</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 237</span>

<span class='def def kw'>def</span> <span class='normalize_for! fid id'>normalize_for!</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='approximate_ascii! fid id'>approximate_ascii!</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='dot token'>.</span><span class='ascii_approximation_options identifier id'>ascii_approximation_options</span><span class='rparen token'>)</span> <span class='if if_mod kw'>if</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='approximate_ascii? fid id'>approximate_ascii?</span>
  <span class='to_ascii! fid id'>to_ascii!</span> <span class='if if_mod kw'>if</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='strip_non_ascii? fid id'>strip_non_ascii?</span>
  <span class='normalize! fid id'>normalize!</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="tidy_bytes!-instance_method">
  
    - (<tt>Object</tt>) <strong>tidy_bytes!</strong>(force = false) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Attempt to replace invalid UTF-8 bytes with valid ones. This method naively
assumes if you have invalid UTF8 bytes, they are either Windows CP-1252 or
ISO8859-1. In practice this isn&#8217;t a bad assumption, but may not
always work.
</p>
<p>
Passing <tt>true</tt> will forcibly tidy all bytes, assuming that the
string&#8217;s encoding is CP-1252 or ISO-8859-1.
</p>


  </div>
</div>
<div class="tags">
  
</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 265</span>

<span class='def def kw'>def</span> <span class='tidy_bytes! fid id'>tidy_bytes!</span><span class='lparen token'>(</span><span class='force identifier id'>force</span> <span class='assign token'>=</span> <span class='false false kw'>false</span><span class='rparen token'>)</span>

  <span class='if if kw'>if</span> <span class='force identifier id'>force</span>
    <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='@wrapped_string ivar id'>@wrapped_string</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;C*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='b identifier id'>b</span><span class='bitor op'>|</span>
      <span class='tidy_byte identifier id'>tidy_byte</span><span class='lparen token'>(</span><span class='b identifier id'>b</span><span class='rparen token'>)</span>
    <span class='end end kw'>end</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;C*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>

  <span class='bytes identifier id'>bytes</span> <span class='assign token'>=</span> <span class='@wrapped_string ivar id'>@wrapped_string</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;C*&quot;</span><span class='rparen token'>)</span>
  <span class='conts_expected identifier id'>conts_expected</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
  <span class='last_lead identifier id'>last_lead</span> <span class='assign token'>=</span> <span class='integer val'>0</span>

  <span class='bytes identifier id'>bytes</span><span class='dot token'>.</span><span class='each_index identifier id'>each_index</span> <span class='do do kw'>do</span> <span class='bitor op'>|</span><span class='i identifier id'>i</span><span class='bitor op'>|</span>

    <span class='byte identifier id'>byte</span>          <span class='assign token'>=</span> <span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span>
    <span class='is_ascii identifier id'>is_ascii</span>      <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='lt op'>&lt;</span> <span class='integer val'>128</span>
    <span class='is_cont identifier id'>is_cont</span>       <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='gt op'>&gt;</span> <span class='integer val'>127</span> <span class='andop op'>&amp;&amp;</span> <span class='byte identifier id'>byte</span> <span class='lt op'>&lt;</span> <span class='integer val'>192</span>
    <span class='is_lead identifier id'>is_lead</span>       <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='gt op'>&gt;</span> <span class='integer val'>191</span> <span class='andop op'>&amp;&amp;</span> <span class='byte identifier id'>byte</span> <span class='lt op'>&lt;</span> <span class='integer val'>245</span>
    <span class='is_unused identifier id'>is_unused</span>     <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='gt op'>&gt;</span> <span class='integer val'>240</span>
    <span class='is_restricted identifier id'>is_restricted</span> <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='gt op'>&gt;</span> <span class='integer val'>244</span>

    <span class='comment val'># Impossible or highly unlikely byte? Clean it.</span>
    <span class='if if kw'>if</span> <span class='is_unused identifier id'>is_unused</span> <span class='orop op'>||</span> <span class='is_restricted identifier id'>is_restricted</span>
      <span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='tidy_byte identifier id'>tidy_byte</span><span class='lparen token'>(</span><span class='byte identifier id'>byte</span><span class='rparen token'>)</span>
    <span class='elsif elsif kw'>elsif</span> <span class='is_cont identifier id'>is_cont</span>
      <span class='comment val'># Not expecting contination byte? Clean up. Otherwise, now expect one less.</span>
      <span class='conts_expected identifier id'>conts_expected</span> <span class='eq op'>==</span> <span class='integer val'>0</span> <span class='question op'>?</span> <span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='tidy_byte identifier id'>tidy_byte</span><span class='lparen token'>(</span><span class='byte identifier id'>byte</span><span class='rparen token'>)</span> <span class='colon op'>:</span> <span class='conts_expected identifier id'>conts_expected</span> <span class='opasgn op'>-=</span> <span class='integer val'>1</span>
    <span class='else else kw'>else</span>
      <span class='if if kw'>if</span> <span class='conts_expected identifier id'>conts_expected</span> <span class='gt op'>&gt;</span> <span class='integer val'>0</span>
        <span class='comment val'># Expected continuation, but got ASCII or leading? Clean backwards up to</span>
        <span class='comment val'># the leading byte.</span>
        <span class='lparen token'>(</span><span class='float val'>1</span><span class='dot2 op'>..</span><span class='lparen token'>(</span><span class='i identifier id'>i</span> <span class='minus op'>-</span> <span class='last_lead identifier id'>last_lead</span><span class='rparen token'>)</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='each identifier id'>each</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='j identifier id'>j</span><span class='bitor op'>|</span> <span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span> <span class='minus op'>-</span> <span class='j identifier id'>j</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='tidy_byte identifier id'>tidy_byte</span><span class='lparen token'>(</span><span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span> <span class='minus op'>-</span> <span class='j identifier id'>j</span><span class='rbrack token'>]</span><span class='rparen token'>)</span><span class='rbrace token'>}</span>
        <span class='conts_expected identifier id'>conts_expected</span> <span class='assign token'>=</span> <span class='integer val'>0</span>
      <span class='end end kw'>end</span>
      <span class='if if kw'>if</span> <span class='is_lead identifier id'>is_lead</span>
        <span class='comment val'># Final byte is leading? Clean it.</span>
        <span class='if if kw'>if</span> <span class='i identifier id'>i</span> <span class='eq op'>==</span> <span class='bytes identifier id'>bytes</span><span class='dot token'>.</span><span class='length identifier id'>length</span> <span class='minus op'>-</span> <span class='integer val'>1</span>
          <span class='bytes identifier id'>bytes</span><span class='lbrack token'>[</span><span class='i identifier id'>i</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='tidy_byte identifier id'>tidy_byte</span><span class='lparen token'>(</span><span class='bytes identifier id'>bytes</span><span class='dot token'>.</span><span class='last identifier id'>last</span><span class='rparen token'>)</span>
        <span class='else else kw'>else</span>
          <span class='comment val'># Valid leading byte? Expect continuations determined by position of</span>
          <span class='comment val'># first zero bit, with max of 3.</span>
          <span class='conts_expected identifier id'>conts_expected</span> <span class='assign token'>=</span> <span class='byte identifier id'>byte</span> <span class='lt op'>&lt;</span> <span class='integer val'>224</span> <span class='question op'>?</span> <span class='integer val'>1</span> <span class='colon op'>:</span> <span class='byte identifier id'>byte</span> <span class='lt op'>&lt;</span> <span class='integer val'>240</span> <span class='question op'>?</span> <span class='integer val'>2</span> <span class='colon op'>:</span> <span class='integer val'>3</span>
          <span class='last_lead identifier id'>last_lead</span> <span class='assign token'>=</span> <span class='i identifier id'>i</span>
        <span class='end end kw'>end</span>
      <span class='end end kw'>end</span>
    <span class='end end kw'>end</span>
  <span class='end end kw'>end</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='bytes identifier id'>bytes</span><span class='dot token'>.</span><span class='empty? fid id'>empty?</span> <span class='integer val'>? </span><span class='string val'>&quot;&quot;</span> <span class='colon op'>:</span> <span class='bytes identifier id'>bytes</span><span class='dot token'>.</span><span class='flatten identifier id'>flatten</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;C*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="to_ascii!-instance_method">
  
    - (<tt>Object</tt>) <strong>to_ascii!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Delete any non-ascii characters.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


317
318
319
320
321
322
323
324</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 317</span>

<span class='def def kw'>def</span> <span class='to_ascii! fid id'>to_ascii!</span>
  <span class='if if kw'>if</span> <span class='string val'>&quot;&gt;= 1.9&quot;</span><span class='dot token'>.</span><span class='respond_to? fid id'>respond_to?</span><span class='lparen token'>(</span><span class='symbol val'>:force_encoding</span><span class='rparen token'>)</span>
    <span class='@wrapped_string ivar id'>@wrapped_string</span><span class='dot token'>.</span><span class='encode! fid id'>encode!</span><span class='lparen token'>(</span><span class='string val'>&quot;ASCII&quot;</span><span class='comma token'>,</span> <span class='symbol val'>:invalid</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:replace</span><span class='comma token'>,</span> <span class='symbol val'>:undef</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='symbol val'>:replace</span><span class='comma token'>,</span>
      <span class='symbol val'>:replace</span> <span class='assign token'>=</span><span class='gt op'>&gt;</span> <span class='string val'>&quot;&quot;</span><span class='rparen token'>)</span>
  <span class='else else kw'>else</span>
    <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='tidy_bytes identifier id'>tidy_bytes</span><span class='dot token'>.</span><span class='normalize_utf8 identifier id'>normalize_utf8</span><span class='lparen token'>(</span><span class='symbol val'>:c</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='reject identifier id'>reject</span> <span class='lbrace token'>{</span><span class='bitor op'>|</span><span class='char identifier id'>char</span><span class='bitor op'>|</span> <span class='char identifier id'>char</span> <span class='gt op'>&gt;</span> <span class='integer val'>127</span><span class='rbrace token'>}</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
  <span class='end end kw'>end</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="truncate!-instance_method">
  
    - (<tt>Object</tt>) <strong>truncate!</strong>(max) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Truncate the string to <tt>max</tt> length.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 328</span>

<span class='def def kw'>def</span> <span class='truncate! fid id'>truncate!</span><span class='lparen token'>(</span><span class='max identifier id'>max</span><span class='rparen token'>)</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='self self kw'>self</span><span class='lbrack token'>[</span><span class='integer val'>0</span><span class='dot3 op'>...</span><span class='max identifier id'>max</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='to_s identifier id'>to_s</span> <span class='if if_mod kw'>if</span> <span class='length identifier id'>length</span> <span class='gt op'>&gt;</span> <span class='max identifier id'>max</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="upcase!-instance_method">
  
    - (<tt>Object</tt>) <strong>upcase!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Upper-cases the string. Note that this works for Unicode strings, though
your milage may vary with Greek and Turkic strings.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


335
336
337</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 335</span>

<span class='def def kw'>def</span> <span class='upcase! fid id'>upcase!</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='ActiveSupport constant id'>ActiveSupport</span><span class='colon2 op'>::</span><span class='Multibyte constant id'>Multibyte</span><span class='colon2 op'>::</span><span class='Unicode constant id'>Unicode</span><span class='dot token'>.</span><span class='apply_mapping identifier id'>apply_mapping</span><span class='lparen token'>(</span><span class='@wrapped_string ivar id'>@wrapped_string</span><span class='comma token'>,</span> <span class='symbol val'>:uppercase_mapping</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="validate_for!-instance_method">
  
    - (<tt>Object</tt>) <strong>validate_for!</strong>(config) 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Validate that the slug string is not blank or reserved, and truncate it to
the max length if necessary.
</p>


  </div>
</div>
<div class="tags">
  <h3>Parameters:</h3>
<ul class="param">
  
    <li>
      
        <span class='type'>(<tt><a href="Configuration.html" title="FriendlyId::Configuration (class)">FriendlyId::Configuration</a></tt>)</span>
      
      
        <span class='name'>config</span>
      
      
      
    </li>
  
</ul>
<h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>
<h3>Raises:</h3>
<ul class="raise">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
FriendlyId::BlankError
</p>
</div>
      
    </li>
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
FriendlyId::ReservedError
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


345
346
347
348
349
350</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 345</span>

<span class='def def kw'>def</span> <span class='validate_for! fid id'>validate_for!</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='rparen token'>)</span>
  <span class='truncate! fid id'>truncate!</span><span class='lparen token'>(</span><span class='config identifier id'>config</span><span class='dot token'>.</span><span class='max_length identifier id'>max_length</span><span class='rparen token'>)</span>
  <span class='raise identifier id'>raise</span> <span class='FriendlyId constant id'>FriendlyId</span><span class='colon2 op'>::</span><span class='BlankError constant id'>BlankError</span> <span class='if if_mod kw'>if</span> <span class='blank? fid id'>blank?</span>
  <span class='raise identifier id'>raise</span> <span class='FriendlyId constant id'>FriendlyId</span><span class='colon2 op'>::</span><span class='ReservedError constant id'>ReservedError</span> <span class='if if_mod kw'>if</span> <span class='config identifier id'>config</span><span class='dot token'>.</span><span class='reserved? fid id'>reserved?</span><span class='lparen token'>(</span><span class='self self kw'>self</span><span class='rparen token'>)</span>
  <span class='self self kw'>self</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="with_dashes!-instance_method">
  
    - (<tt>Object</tt>) <strong>with_dashes!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Replaces whitespace with dashes ("-").
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


354
355
356</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 354</span>

<span class='def def kw'>def</span> <span class='with_dashes! fid id'>with_dashes!</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='@wrapped_string ivar id'>@wrapped_string</span><span class='dot token'>.</span><span class='gsub identifier id'>gsub</span><span class='lparen token'>(</span><span class='regexp val'>/[\s\-]+/</span><span class='u identifier id'>u</span><span class='comma token'>,</span> <span class='string val'>&quot;-&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <p class="signature " id="word_chars!-instance_method">
  
    - (<tt>Object</tt>) <strong>word_chars!</strong> 
  

  
</p><div class="docstring">
  <div class="discussion">
    <p>
Remove any non-word characters.
</p>


  </div>
</div>
<div class="tags">
  <h3>Returns:</h3>
<ul class="return">
  
    <li>
      
        <span class='type'></span>
      
      
      
      
        
        <div class='inline'><p>
String
</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/friendly_id/slug_string.rb', line 214</span>

<span class='def def kw'>def</span> <span class='word_chars! fid id'>word_chars!</span>
  <span class='@wrapped_string ivar id'>@wrapped_string</span> <span class='assign token'>=</span> <span class='normalize_utf8 identifier id'>normalize_utf8</span><span class='lparen token'>(</span><span class='symbol val'>:c</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='unpack identifier id'>unpack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='map identifier id'>map</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='char identifier id'>char</span><span class='bitor op'>|</span>
    <span class='case case kw'>case</span> <span class='char identifier id'>char</span>
    <span class='comment val'># control chars</span>
    <span class='when when kw'>when</span> <span class='integer val'>0</span><span class='dot2 op'>..</span><span class='integer val'>31</span>
    <span class='comment val'># punctuation; 45 is &quot;-&quot; (HYPHEN-MINUS) and allowed</span>
    <span class='when when kw'>when</span> <span class='float val'>33</span><span class='dot2 op'>..</span><span class='integer val'>44</span>
    <span class='comment val'># more puncuation</span>
    <span class='when when kw'>when</span> <span class='float val'>46</span><span class='dot2 op'>..</span><span class='integer val'>47</span>
    <span class='comment val'># more puncuation and other symbols</span>
    <span class='when when kw'>when</span> <span class='float val'>58</span><span class='dot2 op'>..</span><span class='integer val'>64</span>
    <span class='comment val'># brackets and other symbols</span>
    <span class='when when kw'>when</span> <span class='float val'>91</span><span class='dot2 op'>..</span><span class='integer val'>96</span>
    <span class='comment val'># braces, pipe, tilde, etc.</span>
    <span class='when when kw'>when</span> <span class='float val'>123</span><span class='dot2 op'>..</span><span class='integer val'>191</span>
    <span class='else else kw'>else</span> <span class='char identifier id'>char</span>
    <span class='end end kw'>end</span>
  <span class='rbrace token'>}</span><span class='dot token'>.</span><span class='compact identifier id'>compact</span><span class='dot token'>.</span><span class='pack identifier id'>pack</span><span class='lparen token'>(</span><span class='string val'>&quot;U*&quot;</span><span class='rparen token'>)</span>
<span class='end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>
    
    <div id="footer">
  Generated on Thu Jun 10 14:47:18 2010 by 
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool">yard</a>
  0.5.5 (ruby-1.8.6).
</div>

  </body>
</html>